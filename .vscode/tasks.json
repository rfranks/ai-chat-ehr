{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "pip install (workspace)",
            "type": "process",
            "command": "${command:python.interpreterPath}",
            "args": [
                "-m",
                "pip",
                "install",
                "-e",
                "."
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": true
            },
            "problemMatcher": []
        },
        {
            "label": "Run API Gateway",
            "type": "process",
            "command": "${command:python.interpreterPath}",
            "args": [
                "-m",
                "uvicorn",
                "services.api_gateway.app:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8000",
                "--reload"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            },
            "problemMatcher": [],
            "dependsOn": "pip install (workspace)",
            "dependsOrder": "sequence"
        },
        {
            "label": "Run Prompt Catalog",
            "type": "process",
            "command": "${command:python.interpreterPath}",
            "args": [
                "-m",
                "uvicorn",
                "services.prompt_catalog.main:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8001",
                "--reload"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            },
            "problemMatcher": [],
            "dependsOn": "pip install (workspace)",
            "dependsOrder": "sequence"
        },
        {
            "label": "Run Patient Context",
            "type": "process",
            "command": "${command:python.interpreterPath}",
            "args": [
                "-m",
                "uvicorn",
                "services.patient_context.main:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8002",
                "--reload"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            },
            "problemMatcher": [],
            "dependsOn": "pip install (workspace)",
            "dependsOrder": "sequence"
        },
        {
            "label": "Run Chain Executor",
            "type": "process",
            "command": "${command:python.interpreterPath}",
            "args": [
                "-m",
                "uvicorn",
                "services.chain_executor.main:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8003",
                "--reload"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            },
            "problemMatcher": [],
            "dependsOn": "pip install (workspace)",
            "dependsOrder": "sequence"
        }
    ]
}
